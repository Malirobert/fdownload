<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Загрузчик видео с Facebook - Сохранить видео с Facebook</title>
    <meta name="description" content="Скачивайте видео с Facebook в HD бесплатно, без установки программного обеспечения.">
    <meta name="keywords" content="загрузчик facebook, загрузчик видео с facebook, скачать видео с facebook, конвертировать facebook в mp4">
    <meta name="robots" content="index, follow">
    <meta name="author" content="Загрузчик видео с Facebook">
    <meta property="og:title" content="Загрузчик видео с Facebook">
    <meta property="og:description" content="Скачивайте видео с Facebook в HD бесплатно, без установки программного обеспечения.">
    <meta property="og:image" content="https://fdownload.site/images/facebook-downloader.jpg">
    <meta property="og:url" content="https://fdownload.site/ru/">
    <meta property="og:type" content="website">

    <meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:title" content="Загрузчик видео с Facebook">
    <meta name="twitter:description" content="Скачивайте видео с Facebook в HD бесплатно, без установки программного обеспечения.">
    <meta name="twitter:image" content="https://fdownload.site/images/facebook-downloader.jpg">

    <link rel="canonical" href="https://fdownload.site/ru/">
    <link rel="alternate" hreflang="x-default" href="https://fdownload.site" />
    <link rel="alternate" hreflang="en" href="https://fdownload.site" />
    <link rel="alternate" hreflang="fr" href="https://fdownload.site/fr/" />
    <link rel="alternate" hreflang="es" href="https://fdownload.site/es/" />
    <link rel="alternate" hreflang="pt" href="https://fdownload.site/pt/" />
    <link rel="alternate" hreflang="hi" href="https://fdownload.site/hi/" />
    <link rel="alternate" hreflang="ru" href="https://fdownload.site/ru/" />
    <link rel="alternate" hreflang="fil" href="https://fdownload.site/fil/" />
    <link rel="alternate" hreflang="ur" href="https://fdownload.site/ur/" />
    <link rel="alternate" hreflang="id" href="https://fdownload.site/id/" />
    <link rel="alternate" hreflang="bn" href="https://fdownload.site/bn/" />
    <link rel="alternate" hreflang="ar" href="https://fdownload.site/ar/" />
    <link rel="alternate" hreflang="ja" href="https://fdownload.site/ja/" />
    <link href="https://cdn.jsdelivr.net/npm/tailwindcss@2.2.19/dist/tailwind.min.css" rel="stylesheet">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@6.4.0/css/all.min.css">
    <link rel="icon" type="image/png" href="https://fdownload.site/images/facebook-downloader.png">
    <link rel="preload" href="https://cdn.jsdelivr.net/npm/tailwindcss@2.2.19/dist/tailwind.min.css" as="style">
    <link rel="preload" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@6.4.0/css/all.min.css" as="style">
    <script type="application/ld+json">
    {
      "@context": "https://schema.org",
      "@type": "WebApplication",
      "name": "Загрузчик видео с Facebook",
      "url": "https://fdownload.site/ru/",
      "description": "Скачивайте видео с Facebook онлайн в HD и сохраняйте их прямо на свое устройство бесплатно.",
      "applicationCategory": "MultimediaApplication",
      "offers": {
        "@type": "Offer",
        "price": "0",
        "priceCurrency": "USD"
      }
    }
    </script>
    <!-- START: Google Translate Scripts -->
    <script type="text/javascript">
        function googleTranslateElementInit() {
            new google.translate.TranslateElement({
                pageLanguage: 'ru', // Changed to 'ru' for Russian version
                includedLanguages: 'en,zh-CN,hi,es,fr,ar,bn,pt,ru,ja',
                layout: google.translate.TranslateElement.InlineLayout.SIMPLE
            }, 'google_translate_element');
        }
    </script>
    <script type="text/javascript" src="//translate.google.com/translate_a/element.js?cb=googleTranslateElementInit"></script>

    <!-- Пользовательские стили (взяты из EN версии) -->
    <style>
         .blue-text{
            color: #1877f2;
            font-size: 2rem;
        }
        #Svg {
            width: 2.2rem;
            height: 2.2rem;
        }
       .url-item {
           display: flex;
           align-items: center;
           padding: 0.75rem;
           border: 1px solid #e2e8f0;
           border-radius: 0.5rem;
           margin-bottom: 0.5rem;
           background: white;
           transition: all 0.3s;
           justify-content: space-between; /* Убедитесь, что элементы хорошо распределены */
       }
       .url-text {
           flex-grow: 1;
           white-space: nowrap;
           overflow: hidden;
           text-overflow: ellipsis;
           margin: 0 1rem;
       }
       .delete-btn {
           opacity: 0.7;
           transition: opacity 0.2s;
           margin-left: auto; /* Принудительно размещает кнопку справа */
           font-size: 1.1rem; /* Немного увеличивает размер иконки */
           padding: 0.25rem; /* Добавляет немного пространства вокруг иконки */
       }
       .url-item:hover .delete-btn {
           opacity: 1;
       }
       .platform-badge {
           padding: 0.25rem 0.5rem;
           border-radius: 9999px;
           font-size: 0.75rem;
           font-weight: 500;
       }
       .download-progress {
           transition: all 0.3s ease;
       }
       .gradient-bg {
           background: linear-gradient(to right, #6366f1, #8b5cf6, #ec4899);
       }
       .animate-gradient-x {
           background-size: 200% 200%;
           animation: gradient-x 3s ease infinite;
       }
       @keyframes gradient-x {
           0% { background-position: 0% 50%; }
           50% { background-position: 100% 50%; }
           100% { background-position: 0% 50%; }
       }
        
       /* Стиль для рекламных баннеров - ИСПРАВЛЕНО */
       .ad-left-container, .ad-right-container {
           position: fixed;
           top: 80px; /* Пространство для навигационной панели */
           width: 160px;
           height: calc(100vh - 80px);
           z-index: 10;
           pointer-events: none; /* Позволяет кликать сквозь контейнер */
           overflow: visible;
       }
       
       .ad-left-container {
           left: 0;
       }
       
       .ad-right-container {
           right: 0;
       }
       
       .ad-left-scroll, .ad-right-scroll {
           height: 100%;
           display: flex;
           flex-direction: column;
           align-items: center;
           gap: 20px;
           padding: 10px;
       }
       
       .ad-item {
           width: 160px;
           pointer-events: auto; /* Позволяет кликать по баннерам */
           background: white;
           border-radius: 5px;
           box-shadow: 0 2px 5px rgba(0,0,0,0.1);
       }
       
       .sticky-bottom-ad {
           position: fixed;
           bottom: 0;
           left: 0;
           width: 100%;
           z-index: 1000;
           text-align: center;
           background: rgba(255, 255, 255, 0.8);
           padding: 5px 0;
           pointer-events: auto;
       }
       
       /* Скрыть виджет sticky-bottom-ad на мобильных экранах */
       @media (max-width: 768px) {
           .sticky-bottom-ad {
               display: none !important;
           }
       }
       
       /* Стиль для центрального вращающегося баннера */
       .center-ad-container {
           position: fixed;
           top: 50%;
           left: 50%;
           transform: translate(-50%, -50%);
           width: 365px;
           height: 410px;
           background: white;
           border-radius: 8px;
           box-shadow: 0 4px 15px rgba(0,0,0,0.2);
           z-index: 2000;
           display: none;
           overflow: hidden;
       }
       
       .center-ad-timer {
           position: absolute;
           top: 10px;
           left: 10px;
           background: rgba(0,0,0,0.7);
           color: white;
           padding: 2px 6px;
           border-radius: 10px;
           font-size: 12px;
           z-index: 2001;
       }
       
       .center-ad-close {
           position: absolute;
           top: 5px;
           right: 5px;
           width: 24px;
           height: 24px;
           background: rgba(0,0,0,0.7);
           color: white;
           border: none;
           border-radius: 50%;
           font-size: 16px;
           cursor: pointer;
           z-index: 2001;
           display: flex;
           align-items: center;
           justify-content: center;
           opacity: 0; /* Добавлена эта строка для установки начальной непрозрачности */
           transition: opacity 0.3s ease; /* Добавлен переход для более плавного эффекта */
       }
       
       .center-ad-content {
           width: 100%;
           height: 100%;
           display: flex;
           align-items: center;
           justify-content: center;
       }
       
       .main-content-wrapper { /* Переименовано, чтобы избежать конфликта с .main-content в существующем CSS */
           margin: 0 auto;
           padding: 0 180px; /* Пространство для боковых баннеров */
           max-width: 1200px;
       }
       
       /* Скрыть баннеры на мобильных устройствах */
       @media (max-width: 1024px) {
           .ad-left-container, .ad-right-container {
               display: none;
           }
           
           .main-content-wrapper { /* Использует новое имя */
               padding: 0 10px;
           }
       }
   </style>
   
   <style>
  .banner-mobile {
    display: flex;
    justify-content: center;
    align-items: center;
    width: 100%;
    margin-top: 16px;
    margin-bottom: 0;
    text-align: center;
  }
  @media (min-width: 1025px) {
    .banner-mobile {
      display: none !important;
    }
  }
  .banner-mobile img, .banner-mobile ins {
    max-width: 100%;
    height: auto;
    display: block;
    margin: 0 auto;
  }
</style>

     <style>
      
      .main-container {
            display: flex;
            flex-direction: row; /* Force sections to be side-by-side */
            background-color: #fff;
            border-radius: 1.5rem; /* Rounded corners for the main container */
            box-shadow: 0 10px 15px rgba(0, 0, 0, 0.1);
            overflow: hidden; /* Ensure no scrollbars on the main container itself */
            max-width: 360px; /* Fixed max-width for the main container */
            max-height: 400px; /* Fixed max-height for the main container */
            width: 100%; /* Takes full available width up to max-width */
            height: 100%; /* Takes full available height up to max-height */
        }
        
        .left-section {
            background: linear-gradient(180deg, #1a2a6c, #0f1c40); /* Dark blue gradient */
            color: white;
            display: flex;
            flex-direction: column;
            justify-content: center; /* Vertical centering */
            align-items: center; /* Horizontal centering */
            padding: 0.75rem 0.5rem; /* Adjusted padding to fit */
            text-align: center;
            flex: 3; /* Takes 3/5 of the available width */
        }
        .left-section h1 {
            font-size: 1.4rem; /* Adjusted title size */
            line-height: 1.1; /* Reduced line height */
            margin-bottom: 0.4rem;
        }
        .left-section p {
            font-size: 0.8rem; /* Adjusted paragraph size */
            margin-bottom: 0.6rem;
        }
        #grabbberTextDisplay {
            font-size: 1.6rem; /* Adjusted "Grabbber" text size */
            font-weight: bold;
            margin-bottom: 0.6rem;
        }
        /* Style for Font Awesome icons */
        .social-icon {
            font-size: 1.6rem; /* Adjusted icon size */
            color: white; /* Icon color */
        }
        .left-section .flex { /* Targets the icon container */
            flex-direction: column; /* Forces icons to stack vertically */
            align-items: center; /* Centers icons horizontally */
            margin-bottom: 0; /* No bottom margin */
            padding-top: 0.2rem; /* Small padding for icon spacing */
        }
        .left-section .flex > *:not(:last-child) {
            margin-bottom: 0.2rem; /* Spacing between stacked icons */
        }


        .right-section {
            padding: 0.75rem 0.5rem; /* Adjusted padding to fit */
            flex: 2; /* Takes 2/5 of the available width */
            display: flex;
            flex-direction: column;
            justify-content: space-between; /* Distributes space between title, text, button */
        }
        .right-section h2 {
            margin-top: 0; /* Title always at the top */
            margin-bottom: 0.4rem; /* Margin below title */
            font-size: 0.95rem; /* Adjusted title size */
        }
        .right-section p {
            font-size: 0.6rem; /* Very small text size for the long sentence */
            line-height: 1.2;
            margin-top: auto; /* Pushes text to the middle */
            margin-bottom: auto; /* Pushes text to the middle */
        }
        .get-it-for-life-button {
            background-color: #6a0dad; /* Purple background for button */
            color: white;
            padding: 0.4rem 0.8rem; /* Smaller button */
            border-radius: 0.75rem; /* Rounded corners for button */
            font-weight: 600;
            transition: background-color 0.3s ease;
            width: 100%; /* Takes full available width */
            margin-top: 0.6rem; /* Margin above the button */
            align-self: center;
            font-size: 0.7rem; /* Adjusted button text size */
        }
        .get-it-for-life-button:hover {
            background-color: #550099;
        }
    </style>

    <style>
    /* Стиль для всплывающей подсказки "Заработать деньги" */
    .earn-tooltip {
        visibility: hidden;
        opacity: 0;
        background: #fff; /* чистый белый */
        color: #222; /* черный текст */
        text-align: left !important; /* Принудительное выравнивание по левому краю для лучшей читаемости */
        border-radius: 0 !important; /* Принудительная прямоугольная форма */
        padding: 10px 16px;
        position: absolute;
        z-index: 100;
        left: 50%;
        transform: translateX(-50%);
        transition: opacity 0.2s;
        font-size: 0.98em;
        white-space: normal; /* Разрешает перенос текста */
        box-shadow: 0 2px 8px rgba(0,0,0,0.15);
        max-width: 250px; /* Скорректировано для лучшего переноса строк */
        line-height: 1.4;
    }
    .earn-money-btn.navbar .earn-tooltip {
        top: 120%;
        bottom: auto;
        color: #222;
    }
    .earn-money-btn:hover .earn-tooltip,
    .earn-money-btn:focus .earn-tooltip {
        visibility: visible;
        opacity: 1;
    }
    </style>

    <style>
    /* Стиль для кнопки "Заработать деньги" */
    .earn-money-btn.navbar a {
        background: linear-gradient(to right, #a855f7, #ec4899, #f59e42) !important;
        color: #fff !important;
        font-weight: bold !important;
        border: none;
        box-shadow: 0 2px 8px rgba(0,0,0,0.10);
        border-radius: 0.5rem;
        transition: background 0.2s, color 0.2s;
    }
    .earn-money-btn.navbar a:hover, .earn-money-btn.navbar a:focus {
        background: linear-gradient(to right, #a855f7, #ec4899, #f59e42) !important;
        color: #fff !important;
    }
    </style>
</head>
<body class="bg-gray-100 font-sans">
    <div id="google_translate_element" style="position: absolute; top: -1000px; left: -1000px;"></div>
    <!-- Навигационная панель -->
    <nav class="bg-white shadow-lg sticky top-0 z-50">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
            <div class="flex justify-between h-16">
                <div class="flex items-center">
                    <div class="flex items-center">
                    <span class="text-6xl sm:text-7xl md:text-8xl font-bold blue-text">fdownload</span>
                    <svg class="w-16 h-16 sm:w-20 sm:h-20 md:w-24 md:h-24 blue-text" id="Svg" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" style="margin-left: 5px;"> <!-- Added style for 5px margin -->
                    <path d="M12 2a10 10 0 1 0 10 10A10 10 0 0 0 12 2zm0 18a8 8 0 1 1 8-8 8 8 0 0 1-8 8zm-1-9H7.41L12 15.59 16.59 11H13V6h-2z"/>
                    </svg>
                    </div>
                </div>
                <div class="hidden md:flex items-center space-x-8">
                    <div class="relative group">
                        <div class="relative earn-money-btn navbar" style="display:inline-block;">
                            <a href="https://pawns.app/?r=grabbber" target="_blank" class="animate-gradient-x bg-gradient-to-r from-purple-600 via-pink-500 to-yellow-500 text-white px-4 py-2 rounded-md hover:shadow-xl transition duration-300">Заработать деньги</a>
                            <span class="earn-tooltip">Превратите свое свободное время в 150-300$/месяц, играя и делясь своим подключением. Легко получайте пассивный доход с Pawns.app. Зарегистрируйтесь и получите 3$!</span>
                        </div>
                    </div>
                    
                    <a href="https://grabbber.site/" class="text-gray-700 hover:text-blue-600 transition">Похожие загрузчики</a>
                    <a href="https://grabbber.site/video-downloader-extension.html" class="text-gray-700 hover:text-blue-600 transition">Купить расширение Grabbber</a>
                    <div class="relative">
                        <button id="langBtn" class="flex items-center px-3 py-2 rounded-md text-gray-700 hover:text-blue-600 transition">
                          <span id="currentLang">RU</span>
                          <i class="fas fa-chevron-down ml-1"></i>
                        </button>
                        <div id="langDropdown" class="hidden absolute right-0 mt-2 w-48 bg-white rounded-md shadow-lg z-50">
                            <ul>
                                <li><a href="index.html" class="block px-4 py-2 hover:bg-gray-100">English</a></li>
                                <li><a href="/fr/index.html" class="block px-4 py-2 hover:bg-gray-100">Français (French)</a></li>
                                <li><a href="/es/index.html" class="block px-4 py-2 hover:bg-gray-100">Español (Spanish)</a></li>
                                <li><a href="/pt/index.html" class="block px-4 py-2 hover:bg-gray-100">Português (Portuguese)</a></li>
                                <li><a href="/hi/index.html" class="block px-4 py-2 hover:bg-gray-100">हिन्दी (Hindi)</a></li>
                                <li><a href="/ru/index.html" class="block px-4 py-2 hover:bg-gray-100">Русский (Russian)</a></li>
                                <li><a href="/fil/index.html" class="block px-4 py-2 hover:bg-gray-100">Filipino</a></li>
                                <li><a href="/ur/index.html" class="block px-4 py-2 hover:bg-gray-100">اردو (Urdu)</a></li>
                                <li><a href="/id/index.html" class="block px-4 py-2 hover:bg-gray-100">Bahasa Indonesia (Indonesian)</a></li>
                                <li><a href="/bn/index.html" class="block px-4 py-2 hover:bg-gray-100">বাংলা (Bengali)</a></li>
                                <li><a href="/ar/index.html" class="block px-4 py-2 hover:bg-gray-100">العربية (Arabic)</a></li>
                                <li><a href="/ja/index.html" class="block px-4 py-2 hover:bg-gray-100">日本語 (Japanese)</a></li>
                            </ul>
                        </div>
                        <!-- TODO: Добавить здесь теги hreflang для каждого языка -->
                    </div>
                </div>
                <div class="md:hidden flex items-center">
                    <div class="relative group">
                        <a href="https://pawns.app/?r=grabbber" target="_blank" class="animate-gradient-x bg-gradient-to-r from-purple-600 via-pink-500 to-yellow-500 text-white px-3 py-1.5 rounded-md hover:shadow-xl transition duration-300 text-sm mr-2">Заработать деньги</a>
                        <div class="absolute hidden group-hover:block bg-white text-gray-700 p-2 rounded-md shadow-lg z-50 w-64 right-0 mt-2">
                            <p class="text-center text-sm">
                                Превратите свое свободное время в 150-300$/месяц, играя и делясь своим подключением. Легко получайте пассивный доход с Pawns.app. Зарегистрируйтесь и получите 3$!
                            </p>
                        </div>
                    </div>
                    <button class="text-gray-700" onclick="toggleMobileMenu()" aria-label="Открыть меню">
                        <i class="fas fa-bars text-xl"></i>
                    </button>
                </div>
            </div>

            
            <!-- Мобильное меню -->
            <div id="mobile-menu" class="hidden md:hidden">
                <div class="px-2 pt-2 pb-3 space-y-1 bg-white rounded-b-lg shadow-lg">
                    <a href="https://grabbber.site/" class="block px-3 py-2 rounded-md text-base font-medium text-gray-700 hover:text-blue-600 hover:bg-gray-50 transition">Похожие загрузчики</a>
                    <a href="https://grabbber.site/video-downloader-extension.html" class="block px-3 py-2 rounded-md text-base font-medium text-gray-700 hover:text-blue-600 hover:bg-gray-50 transition">Купить расширение Grabbber</a>
                    <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 flex justify-between h-16 items-center">
                        <div class="flex items-center space-x-8">
                          <!-- Другие ссылки здесь, если необходимо -->
                          <div class="relative">
                            <button id="langBtnMobile" class="flex items-center px-3 py-2 rounded-md text-gray-700 hover:text-blue-600 transition">
                              <span id="currentLangMobile">RU</span>
                              <i class="fas fa-chevron-down ml-1"></i>
                            </button>
                            <div id="langDropdownMobile" class="hidden absolute right-0 mt-2 w-48 bg-white rounded-md shadow-lg z-50">
                              <ul>
                                <li><a href="index.html" class="block px-4 py-2 hover:bg-gray-100">English</a></li>
                                <li><a href="/fr/index.html" class="block px-4 py-2 hover:bg-gray-100">Français (French)</a></li>
                                <li><a href="/es/index.html" class="block px-4 py-2 hover:bg-gray-100">Español (Spanish)</a></li>
                                <li><a href="/pt/index.html" class="block px-4 py-2 hover:bg-gray-100">Português (Portuguese)</a></li>
                                <li><a href="/hi/index.html" class="block px-4 py-2 hover:bg-gray-100">हिन्दी (Hindi)</a></li>
                                <li><a href="/ru/index.html" class="block px-4 py-2 hover:bg-gray-100">Русский (Russian)</a></li>
                                <li><a href="/fil/index.html" class="block px-4 py-2 hover:bg-gray-100">Filipino</a></li>
                                <li><a href="/ur/index.html" class="block px-4 py-2 hover:bg-gray-100">اردو (Urdu)</a></li>
                                <li><a href="/id/index.html" class="block px-4 py-2 hover:bg-gray-100">Bahasa Indonesia (Indonesian)</a></li>
                                <li><a href="/bn/index.html" class="block px-4 py-2 hover:bg-gray-100">বাংলা (Bengali)</a></li>
                                <li><a href="/ar/index.html" class="block px-4 py-2 hover:bg-gray-100">العربية (Arabic)</a></li>
                                <li><a href="/ja/index.html" class="block px-4 py-2 hover:bg-gray-100">日本語 (Japanese)</a></li>
                              </ul>
                            </div>
                          </div>
                        </div>   
                    </div>
                </div>
            </div>
        </div>
    </nav>
    
    <!-- Левые баннеры - ДОБАВЛЕНО -->
    <div class="ad-left-container">
        <div class="ad-left-scroll">
            <!-- Exoclice Left 1 -->
            <div class="ad-item">
                <script async type="application/javascript" src="https://a.magsrv.com/ad-provider.js"></script>
                <ins class="eas6a97888e2" data-zoneid="5653232"></ins>
                <script>(AdProvider = window.AdProvider || []).push({"serve": {}});</script>
            </div>
            
            <!-- Pawn.app Left 1 -->
            <div class="ad-item">
                <a href="https://pawns.app/?r=grabbber" target="_blank">
                    <img src="https://cdn.pawns.app/images/b/160.jpg" alt="Pawns.app">
                </a>
            </div>
            
            <!-- Exoclice Left 2 -->
            <div class="ad-item">
                <script async type="application/javascript" src="https://a.magsrv.com/ad-provider.js"></script>
                <ins class="eas6a97888e2" data-zoneid="5653236"></ins>
                <script>(AdProvider = window.AdProvider || []).push({"serve": {}});</script>
            </div>
            
            <!-- Pawn.app Left 2 -->
            <div class="ad-item">
                <a href="https://pawns.app/?r=grabbber" target="_blank">
                    <img src="https://cdn.pawns.app/images/b/160.jpg" alt="Pawns.app">
                </a>
            </div>
            
            <!-- Exoclice Left 3 -->
            <div class="ad-item">
                <script async type="application/javascript" src="https://a.magsrv.com/ad-provider.js"></script>
                <ins class="eas6a97888e2" data-zoneid="5653240"></ins>
                <script>(AdProvider = window.AdProvider || []).push({"serve": {}});</script>
            </div>
        </div>
    </div>
    
    <!-- Основное содержимое, обернутое для освобождения места для боковых баннеров -->
    <div class="main-content-wrapper">
            <div class="container mx-auto px-4 py-8 max-w-4xl">
                <!-- Существующее содержимое остается без изменений -->
                <header class="text-center mb-8">
                    <h1 class="text-4xl font-bold text-blue-600 mb-2">Загрузчик видео с Facebook</h1>
                    <p class="text-lg text-gray-600">Скачивайте видео с Facebook онлайн в HD</p>
                    <div class="mt-4 text-blue-800 font-medium">
                        <span id="url-counter">0</span> <span id="video-selected-text">выбранных видео</span>
                    </div>
                </header>

                <div class="bg-white rounded-lg shadow-lg p-6 mb-8">
                    <div class="flex flex-col md:flex-row gap-2 mb-4">
                        <input type="text" id="url-input" placeholder="Вставьте URL Facebook сюда..."
                               class="flex-grow px-4 py-2 border border-blue-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500">
                        <button id="add-url-btn" class="bg-blue-500 hover:bg-blue-600 text-white px-6 py-2 rounded-lg transition duration-300 flex items-center justify-center">
                            <i class="fas fa-plus mr-2"></i>Добавить URL
                        </button>
                    </div>
                    <div id="url-error" class="text-red-500 hidden mb-4"></div>
                    
                    <div class="flex flex-col md:flex-row gap-2 mb-4">
                        <div class="flex-grow">
                            <label for="excel-input" class="bg-green-500 hover:bg-green-600 text-white px-6 py-2 rounded-lg transition duration-300 flex items-center justify-center cursor-pointer">
                                <i class="fas fa-file-excel mr-2"></i>Импорт из Excel
                                <input type="file" id="excel-input" accept=".xlsx, .xls, .csv" class="hidden">
                            </label>
                        </div>
                        <div id="excel-status" class="text-green-600 hidden"></div>
                    </div>
                    
                    <div class="text-sm text-gray-500 mb-4">
                        Поддерживаемая платформа: 
                        <span class="inline-block bg-blue-600 text-white px-2 py-1 rounded-full text-xs mr-1">Facebook</span>
                    </div>
                </div>

                <div class="bg-white rounded-lg shadow-lg p-6 mb-8">
                    <h2 class="text-xl font-semibold text-blue-600 mb-4">Ваши URL</h2>
                    <div id="url-list" class="mb-6">
                        <div class="text-gray-500 text-center py-8" id="empty-list-message">
                            <i class="fas fa-link text-3xl mb-2"></i>
                            <p>Добавьте URL, чтобы начать загрузку видео с Facebook</p>
                        </div>
                    </div>
                    <button id="download-all-btn" class="w-full bg-blue-600 hover:bg-blue-700 text-white px-6 py-3 rounded-lg transition duration-300 flex items-center justify-center disabled:bg-blue-300 disabled:cursor-not-allowed" disabled>
                        <i class="fas fa-download mr-2"></i>Скачать все
                    </button>
                </div>

                <div id="results-container" class="bg-white rounded-lg shadow-lg p-6 mb-8 hidden">
                    <h2 class="text-xl font-semibold text-blue-600 mb-4">Результаты загрузки</h2>
                    <div id="results-list" class="divide-y divide-gray-200 max-h-80 overflow-y-auto"></div>
                </div>
            </div>
            <!-- Мобильные баннеры - ДОБАВЛЕНО -->
            <div class="banner-mobile mx-auto flex flex-col items-center justify-center" style="margin-top:16px;max-width:350px;">
                <script async type="application/javascript" src="https://a.magsrv.com/ad-provider.js"></script> 
                <ins class="eas6a97888e2" data-zoneid="5654110"></ins> 
                <script>(AdProvider = window.AdProvider || []).push({"serve": {}});</script>
            </div>

              <!-- Раздел функций -->
              <section class="container mx-auto px-4 py-6 max-w-4xl" aria-labelledby="features-heading">
                  <div class="bg-white rounded-lg shadow-lg p-6 mb-8">
                      <h2 id="features-heading" class="text-2xl font-semibold text-blue-600 mb-4">Функции загрузчика видео с Facebook</h2>
                       
                      <div class="grid grid-cols-1 md:grid-cols-3 gap-6 mb-6">
                          <article class="bg-blue-50 p-4 rounded-lg text-center">
                              <div class="text-3xl text-blue-500 mb-2"><i class="fas fa-infinity" aria-hidden="true" title="Неограниченные загрузки"></i></div>
                              <h3 class="font-bold mb-2">Неограниченно</h3>
                              <p class="text-gray-600">Скачивайте сколько угодно видео с Facebook — без ограничений. Наш сервис — ваше идеальное решение для сохранения видео с Facebook.</p>
                          </article>
                           
                          <article class="bg-blue-50 p-4 rounded-lg text-center">
                              <div  class="text-3xl text-blue-500 mb-2"><i class="fas fa-check-circle" aria-hidden="true" title="Высокое качество"></i></div>
                              <h3 class="font-bold mb-2">Чистое качество</h3>
                              <p class="text-gray-600">Получайте видео с Facebook без логотипов или лишних элементов, для идеально чистого контента.</p>
                          </article>
                           
                          <article class="bg-blue-50 p-4 rounded-lg text-center">
                              <div class="text-3xl text-blue-500 mb-2"><i class="fas fa-file-video" aria-hidden="true" title="Формат MP4"></i></div>
                              <h3 class="font-bold mb-2">Формат MP4</h3>
                              <p class="text-gray-600">Скачивайте несколько видео с Facebook одновременно в формате MP4.</p>
                          </article>
                      </div>
                  </div>
              </section>
            <div class="banner-mobile mx-auto flex flex-col items-center justify-center" style="margin-top:16px;max-width:350px;">
              <script async type="application/javascript" src="https://a.magsrv.com/ad-provider.js"></script> 
              <ins class="eas6a97888e2" data-zoneid="5654118"></ins> 
              <script>(AdProvider = window.AdProvider || []).push({"serve": {}});</script>
            </div>
             
            <!-- Раздел "Как скачать" -->
            <div class="container mx-auto px-4 py-6 max-w-4xl">
                <div class="bg-white rounded-lg shadow-lg p-6 mb-8">
                    <h3 class="text-xl font-semibold text-blue-600 mb-3">Как скачать видео с Facebook с помощью fdownload</h3>
                    
                    <div class="grid grid-cols-1 md:grid-cols-3 gap-6 mb-6">
                        <div class="border border-gray-200 p-4 rounded-lg">
                            <div class="text-2xl text-blue-500 mb-2">1</div>
                            <h4 class="font-bold mb-2">Найдите видео</h4>
                            <p class="text-gray-600">Откройте Facebook (веб-сайт или мобильное приложение). Прокрутите, чтобы найти видео, которое вы хотите сохранить. Воспроизведите видео, чтобы убедиться, что оно правильное.</p>
                        </div>
                        
                        <div class="border border-gray-200 p-4 rounded-lg">
                            <div class="text-2xl text-blue-500 mb-2">2</div>
                            <h4 class="font-bold mb-2">Скопируйте ссылку</h4>
                            <p class="text-gray-600">Нажмите кнопку "Поделиться" рядом с видео. Выберите "Копировать ссылку" в меню. Убедитесь, что URL правильно скопирован в буфер обмена.</p>
                        </div>
                        
                        <div class="border border-gray-200 p-4 rounded-lg">
                            <div class="text-2xl text-blue-500 mb-2">3</div>
                            <h4 class="font-bold mb-2">Сохраните видео</h4>
                            <p class="text-gray-600">Вставьте скопированную ссылку в поле в верхней части этой страницы. Нажмите "Добавить URL", чтобы добавить ссылки, затем "Скачать все", чтобы начать загрузку.</p>
                        </div>
                    </div>
                </div>
            </div>
            <div class="banner-mobile mx-auto flex flex-col items-center justify-center" style="margin-top:16px;max-width:350px;">
                <script async type="application/javascript" src="https://a.magsrv.com/ad-provider.js"></script> 
                <ins class="eas6a97888e2" data-zoneid="5654120"></ins> 
                <script>(AdProvider = window.AdProvider || []).push({"serve": {}});</script>
            </div>

            <!-- Контейнер демонстрации видео -->
            <div class="container mx-auto px-4 py-6 max-w-4xl">
                <div class="bg-white rounded-lg shadow-lg p-8 mb-8">  <!-- Увеличенный отступ с p-6 до p-8 -->
                    <h3 class="text-xl font-semibold text-blue-600 text-center mb-6">Посмотрите, как наш загрузчик Facebook загружает несколько видео одновременно</h3>
                    
                    <div class="aspect-w-16 aspect-h-9 mb-8">  <!-- Увеличенный нижний отступ -->
                        <div class="w-full h-0 pb-[56.25%] relative bg-gray-200 rounded-lg flex items-center justify-center cursor-pointer" id="video-demo-container" style="min-height: 350px;" aria-label="Видеодемонстрация функции множественной загрузки Grabbber" loading="lazy">
                            <div class="absolute inset-0 flex items-center justify-center">
                                <i class="fas fa-play-circle text-6xl text-blue-500 opacity-70" aria-hidden="true"></i>
                            </div>
                        </div>
                    </div>
                    
                    <p class="text-center text-gray-600 mb-4 text-lg">Видеодемонстрация</p>  <!-- Увеличенный размер текста -->
                    
                    <script>
                        document.addEventListener('DOMContentLoaded', function() {
                            const videoContainer = document.getElementById('video-demo-container');
                            
                            videoContainer.addEventListener('click', function() {
                                // В скрипте демонстрации видео
                                this.innerHTML = `<iframe class="absolute inset-0 w-full h-full" style="min-height: 350px;" src="videos/How-to-download-facebook-videos.mp4" title="Видеодемонстрация функции множественной загрузки Grabbber" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe>`;
                                // Примечание: Замените 'about:blank' на ваш фактический URL видео
                            });
                        });
                    </script>
                </div>
            </div>
             
            <div class="text-center text-gray-700 p-2 lg:hidden">
                <p>
                    Превратите свое свободное время в 150-300$/месяц, играя и делясь своим подключением. Легко получайте пассивный доход с Pawns.app. Зарегистрируйтесь и получите 3$! 
                    <i class="fas fa-arrow-right text-purple-600 mx-1"></i>
                    <a href="https://pawns.app/?r=grabbber" target="_blank" class="text-purple-600 font-bold hover:underline">Pawns.app</a>
                </p>
            </div>
            <div class="banner-mobile">
                <a href="https://pawns.app/?r=grabbber" target="_blank">
                    <img src="https://cdn.pawns.app/images/b/630.jpg" alt="Pawns.app">
                </a>
            </div>
            <!-- Раздел списка функций -->
            <div class="container mx-auto px-4 py-6 max-w-4xl">
                <div class="bg-white rounded-lg shadow-lg p-6 mb-8">
                    <h3 class="text-xl font-semibold text-blue-600 mb-4">Почему стоит выбрать fdownload? Ваш идеальный загрузчик Facebook</h3>
                    <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
                        <ul class="list-disc pl-5">
                            <li class="mb-2">Легко и бесплатно скачивайте видео с Facebook. Попрощайтесь с разочарованием "не могу скачать видео с Facebook"!</li>
                            <li class="mb-2">Вход не требуется. Просто вставьте ссылку, чтобы сохранить свои видео, будь то публичные или частные (если доступны).</li>
                            <li class="mb-2">Наслаждайтесь быстрой загрузкой в HD. Это также включает видео Facebook Live.</li>
                            <li class="mb-2">Наш инструмент позволяет скачивать несколько видео одновременно, даже для просмотра в автономном режиме.</li>
                        </ul>
            
                        <ul class="list-disc pl-5">
                            <li class="mb-2">Все загрузки в формате MP4, совместимом везде.</li>
                            <li class="mb-2">Наш инструмент работает во всех браузерах и операционных системах.</li>
                            <li class="mb-2">Получайте видео в HD, без нежелательных наложений.</li>
                            <li class="mb-2">Импортируйте несколько ссылок через файл Excel для эффективной пакетной обработки.</li>
                        </ul>
                    </div>
                </div>
            </div>
             <div class="text-center text-gray-700 p-2 lg:hidden">
                <p>
                    Превратите свое свободное время в 150-300$/месяц, играя и делясь своим подключением. Легко получайте пассивный доход с Pawns.app. Зарегистрируйтесь и получите 3$! 
                    <i class="fas fa-arrow-right text-purple-600 mx-1"></i>
                    <a href="https://pawns.app/?r=grabbber" target="_blank" class="text-purple-600 font-bold hover:underline">Pawns.app</a>
                </p>
            </div>
             <div class="banner-mobile">
                <a href="https://pawns.app/?r=grabbber" target="_blank">
                    <img src="https://cdn.pawns.app/images/b/630.jpg" alt="Pawns.app">
                </a>
            </div>
             
            <!-- Раздел часто задаваемых вопросов -->
            <div class="container mx-auto px-4 py-6 max-w-4xl">
                <div class="bg-white rounded-lg shadow-lg p-6 mb-8">
                    <h3 class="text-xl font-semibold text-blue-600 mb-4">Часто задаваемые вопросы</h3>
                    
                    <div class="space-y-4">
                        <div class="border border-gray-200 rounded-lg overflow-hidden">
                            <button class="w-full px-4 py-3 text-left font-medium flex justify-between items-center hover:bg-gray-50">
                                <span>Нужно ли платить за использование fdownload для скачивания видео с Facebook?</span>
                                <i class="fas fa-chevron-down"></i>
                            </button>
                            <div class="px-4 py-3 bg-gray-50 hidden">
                                <p class="text-gray-600">Нет, наш сервис полностью бесплатен. Вы можете скачивать сколько угодно видео с Facebook без какой-либо оплаты.</p>
                            </div>
                        </div>
                        
                        <div class="border border-gray-200 rounded-lg overflow-hidden">
                            <button class="w-full px-4 py-3 text-left font-medium flex justify-between items-center hover:bg-gray-50">
                                <span>Могу ли я скачать любое видео с Facebook с помощью этого инструмента?</span>
                                <i class="fas fa-chevron-down"></i>
                            </button>
                            <div class="px-4 py-3 bg-gray-50 hidden">
                                <p class="text-gray-600">Да, наш загрузчик Facebook предназначен для работы с большинством публичных видеоматериалов Facebook. Обычно вы можете скачивать видео с Facebook из публичных профилей, страниц и групп, просто вставив ссылку на видео. Хотя некоторые инструменты утверждают, что предлагают загрузку частных видео с Facebook, доступ обычно зависит от настроек конфиденциальности видео и ваших разрешений.</p>
                            </div>
                        </div>
                        
                        <div class="border border-gray-200 rounded-lg overflow-hidden">
                            <button class="w-full px-4 py-3 text-left font-medium flex justify-between items-center hover:bg-gray-50">
                                <span>Каково качество скачиваемых видео с Facebook?</span>
                                <i class="fas fa-chevron-down"></i>
                            </button>
                            <div class="px-4 py-3 bg-gray-50 hidden">
                                <p class="text-gray-600">Наш сервис позволяет скачивать видео с Facebook в высоком разрешении. Вы можете рассчитывать на загрузку видео с Facebook в HD-качестве (до 1080p, если доступно), что обеспечивает четкое и ясное воспроизведение на вашем устройстве.</p>
                            </div>
                        </div>

                        <div class="border border-gray-200 rounded-lg overflow-hidden">
                            <button class="w-full px-4 py-3 text-left font-medium flex justify-between items-center hover:bg-gray-50">
                                <span>Сколько видео с Facebook я могу скачать за один раз с помощью fdownload?</span>
                                <i class="fas fa-chevron-down"></i>
                            </button>
                            <div class="px-4 py-3 bg-gray-50 hidden">
                                <p class="text-gray-600">Ограничений нет! Вы можете скачивать сколько угодно видео с Facebook за один раз. Но мы настоятельно рекомендуем добавлять не более 10 URL-адресов видео с Facebook, вручную или через файл Excel.</p>
                            </div>
                        </div>
                        
                        <div class="border border-gray-200 rounded-lg overflow-hidden">
                            <button class="w-full px-4 py-3 text-left font-medium flex justify-between items-center hover:bg-gray-50">
                                <span>Какой формат будут иметь мои скачанные видео с Facebook?</span>
                                <i class="fas fa-chevron-down"></i>
                            </button>
                            <div class="px-4 py-3 bg-gray-50 hidden">
                                <p class="text-gray-600">Все загрузки видео с Facebook сохраняются в широко совместимом формате MP4. Это означает, что вы можете легко воспроизводить свои скачанные видеофайлы с Facebook практически на любом устройстве, от телефона до компьютера, без необходимости в специальном программном обеспечении.</p>
                            </div>
                        </div>

                        <div class="border border-gray-200 rounded-lg overflow-hidden">
                            <button class="w-full px-4 py-3 text-left font-medium flex justify-between items-center hover:bg-gray-50">
                                <span>Могу ли я скачать видео Facebook Live или Reels?</span>
                                <i class="fas fa-chevron-down"></i>
                            </button>
                            <div class="px-4 py-3 bg-gray-50 hidden">
                                <p class="text-gray-600">Да, наш загрузчик видео с Facebook поддерживает загрузку видео Facebook Live после завершения прямой трансляции и ее доступности в виде обычного видео. Вы также можете использовать его для загрузки Facebook Reels, чтобы сохранить весь свой любимый короткий контент.</p>
                            </div>
                        </div>

                        <div class="border border-gray-200 rounded-lg overflow-hidden">
                            <button class="w-full px-4 py-3 text-left font-medium flex justify-between items-center hover:bg-gray-50">
                                <span>Бесплатно ли использовать этот загрузчик видео с Facebook?</span>
                                <i class="fas fa-chevron-down"></i>
                            </button>
                            <div class="px-4 py-3 bg-gray-50 hidden">
                                <p class="text-gray-600">Абсолютно! Наш загрузчик Facebook полностью бесплатен в использовании. Нет никаких скрытых платежей или подписок, необходимых для загрузки видеоконтента с Facebook. Просто вставьте свою ссылку и наслаждайтесь загрузками!</p>
                            </div>
                        </div>

                    </div>
                </div>
            </div>

            <div class="banner-mobile mx-auto flex flex-col items-center justify-center" style="margin-top:16px;max-width:350px;">
                <script async type="application/javascript" src="https://a.magsrv.com/ad-provider.js"></script> 
                <ins class="eas6a97888e2" data-zoneid="5654128"></ins> 
                <script>(AdProvider = window.AdProvider || []).push({"serve": {}});</script>
            </div>
             
            <!-- Добавить скрипт переключения часто задаваемых вопросов -->
            <script>
                document.addEventListener('DOMContentLoaded', function() {
                    const faqButtons = document.querySelectorAll('.border.border-gray-200.rounded-lg.overflow-hidden button');
                    
                    faqButtons.forEach(button => {
                        button.addEventListener('click', function() {
                            const content = this.nextElementSibling;
                            const icon = this.querySelector('i');
                            
                            // Переключить видимость содержимого
                            if (content.classList.contains('hidden')) {
                                content.classList.remove('hidden');
                                icon.classList.remove('fa-chevron-down');
                                icon.classList.add('fa-chevron-up');
                            } else {
                                content.classList.add('hidden');
                                icon.classList.remove('fa-chevron-up');
                                icon.classList.add('fa-chevron-down');
                            }
                        });
                    });
                });
            </script>

            <!-- Включить библиотеку XLSX для импорта Excel -->
            <script src="https://cdn.jsdelivr.net/npm/xlsx@0.18.5/dist/xlsx.full.min.js" defer></script>
            <script>
                function toggleMobileMenu() {
                    const mobileMenu = document.getElementById('mobile-menu');
                    mobileMenu.classList.toggle('hidden');
                }
            </script>

            <script>
            document.addEventListener('DOMContentLoaded', function() {
                // Ссылки на DOM
                const urlInput = document.getElementById('url-input');
                const addUrlBtn = document.getElementById('add-url-btn');
                const urlList = document.getElementById('url-list');
                const emptyListMessage = document.getElementById('empty-list-message');
                const urlCounter = document.getElementById('url-counter');
                const downloadAllBtn = document.getElementById('download-all-btn');
                const excelInput = document.getElementById('excel-input');
                const excelStatus = document.getElementById('excel-status');
                const urlError = document.getElementById('url-error');
                const resultsContainer = document.getElementById('results-container');
                const resultsList = document.getElementById('results-list');
                
                // Глобальные переменные
                let urls = [];
                let isDownloading = false; // Переменная для отслеживания состояния загрузки
                
                // Функция для включения/выключения интерфейса во время загрузки
                function setInterfaceState(downloading) {
                    isDownloading = downloading;
                    
                    // Отключить/включить элементы интерфейса
                    urlInput.disabled = downloading;
                    addUrlBtn.disabled = downloading;
                    downloadAllBtn.disabled = downloading;
                    excelInput.disabled = downloading;
                    
                    // Изменить внешний вид кнопки загрузки
                    if (downloading) {
                        downloadAllBtn.classList.add('opacity-50', 'cursor-not-allowed');
                        downloadAllBtn.classList.remove('hover:bg-blue-600');
                    } else {
                        downloadAllBtn.classList.remove('opacity-50', 'cursor-not-allowed');
                        downloadAllBtn.classList.add('hover:bg-blue-600');
                    }
                    
                    // Отключить/включить кнопки удаления
                    const deleteButtons = document.querySelectorAll('.delete-btn');
                    deleteButtons.forEach(btn => {
                        btn.disabled = downloading;
                        if (downloading) {
                            btn.classList.add('opacity-50', 'cursor-not-allowed');
                        } else {
                            btn.classList.remove('opacity-50', 'cursor-not-allowed');
                        }
                    });
                }

                function updateUrlCounter() {
                    urlCounter.textContent = urls.length;
                    if (urls.length > 0) {
                        downloadAllBtn.disabled = false;
                        emptyListMessage.style.display = 'none';
                    } else {
                        downloadAllBtn.disabled = true;
                        emptyListMessage.style.display = 'block';
                    }
                }
                
                function validateUrl(url) {
                    // Базовая проверка URL
                    if (!url) return false;
                   
                         // Проверить, является ли URL с поддерживаемой платформы
                         const supportedPlatforms = [
                        'facebook.com', 'fb.com', 'fb.watch'
                    ];
                    
                    return supportedPlatforms.some(platform => url.includes(platform));
                }
                
                function identifyPlatform(url) {
                    if (url.includes('facebook.com') || url.includes('fb.com') || url.includes('fb.watch')) {
                        return { name: 'Facebook', class: 'bg-blue-600 text-white' };
                    }
                    return { name: 'Неизвестно', class: 'bg-gray-100 text-gray-700' };
                }
                
                function addUrlToList(url) {
                    if (!validateUrl(url)) {
                        urlError.textContent = 'Пожалуйста, введите действительный URL Facebook';
                        urlError.classList.remove('hidden');
                        return;
                    }
                    
                    if (urls.includes(url)) {
                        urlError.textContent = 'Этот URL уже добавлен';
                        urlError.classList.remove('hidden');
                        return;
                    }
                    
                    urlError.classList.add('hidden');
                    
                    urls.push(url);
                    
                    const platform = identifyPlatform(url);
                    
                    const urlItem = document.createElement('div');
                    urlItem.className = 'url-item flex justify-between items-center';
                    urlItem.dataset.url = url;
                    
                    const leftPart = document.createElement('div');
                    leftPart.className = 'flex items-center flex-grow overflow-hidden';
                    
                    const platformBadge = document.createElement('span');
                    platformBadge.className = `platform-badge ${platform.class} flex-shrink-0`;
                    platformBadge.textContent = platform.name;
                    
                    const urlText = document.createElement('span');
                    urlText.className = 'url-text truncate ml-2';
                    urlText.textContent = url;
                    
                    const deleteBtn = document.createElement('button');
                    deleteBtn.className = 'delete-btn text-red-500 hover:text-red-700 ml-2 flex-shrink-0';
                    deleteBtn.innerHTML = '<i class="fas fa-times"></i>';
                    deleteBtn.addEventListener('click', function() {
                        urlItem.remove();
                        urls = urls.filter(u => u !== url);
                        updateUrlCounter();
                    });
                    
                    leftPart.appendChild(platformBadge);
                    leftPart.appendChild(urlText);
                    
                    urlItem.appendChild(leftPart);
                    urlItem.appendChild(deleteBtn);
                    
                    urlList.appendChild(urlItem);
                    urlInput.value = '';
                    
                    updateUrlCounter();
                }
                
                function addUrl() {
                    const url = urlInput.value.trim();
                    if (url) {
                        addUrlToList(url);
                    } else {
                        urlError.textContent = 'Пока не добавлено ни одного URL';
                        urlError.classList.remove('hidden');
                    }
                }
                
                function handleExcelImport(e) {
                    const file = e.target.files[0];
                    if (!file) return;
                    
                    const reader = new FileReader();
                    reader.onload = function(e) {
                        try {
                            const data = new Uint8Array(e.target.result);
                            const workbook = XLSX.read(data, {type: 'array'});
                            
                            // Получить первый лист
                            const worksheetName = workbook.SheetNames[0];
                            const worksheet = workbook.Sheets[worksheetName];
                            
                            // Конвертировать в JSON
                            const jsonData = XLSX.utils.sheet_to_json(worksheet, {header: 1});
                            
                            // Извлечь URL (предполагается, что URL находятся в первом столбце)
                            let importCount = 0;
                            jsonData.forEach(row => {
                                if (row.length > 0 && typeof row[0] === 'string') {
                                    const url = row[0].trim();
                                    if (validateUrl(url) && !urls.includes(url)) {
                                        addUrlToList(url);
                                        importCount++;
                                    }
                                }
                            });
                            
                            // Показать статус
                            excelStatus.textContent = `${importCount} URL импортировано из Excel`;
                            excelStatus.classList.remove('hidden');
                            setTimeout(() => {
                                excelStatus.classList.add('hidden');
                            }, 3000);
                            
                        } catch (error) {
                            console.error('Ошибка при парсинге файла Excel:', error);
                            excelStatus.textContent = 'Ошибка при парсинге файла Excel';
                            excelStatus.classList.remove('hidden');
                            setTimeout(() => {
                                excelStatus.classList.add('hidden');
                            }, 3000);
                        }
                    };
                    reader.readAsArrayBuffer(file);
                }
                
                function createDownloadItem(url, status) {
                    const platform = identifyPlatform(url);
                    const item = document.createElement('div');
                    item.className = 'py-4';
                    item.dataset.url = url;
                    
                    let statusHTML = '';
                    if (status === 'downloading') {
                        statusHTML = `
                            <div class="flex items-center">
                                <div class="w-6 h-6 mr-3 flex-shrink-0">
                                    <div class="w-6 h-6 border-2 border-blue-500 border-t-transparent rounded-full animate-spin"></div>
                                </div>
                                <div class="text-blue-500 font-medium">Загрузка...</div>
                            </div>
                        `;
                    } else if (status === 'success') {
                        statusHTML = `
                            <div class="flex items-center justify-between">
                                <div class="flex items-center">
                                    <div class="w-6 h-6 mr-3 flex-shrink-0 text-green-500">
                                        <i class="fas fa-check-circle text-xl"></i>
                                    </div>
                                    <div class="text-green-500 font-medium">Загрузка завершена</div>
                                </div>
                                <button class="open-btn bg-blue-500 hover:bg-blue-600 text-white px-4 py-2 rounded-lg text-sm transition duration-300 ml-4">
                                    <i class="fas fa-external-link-alt mr-1"></i>Открыть
                                </button>
                            </div>
                        `;
                    } else if (status === 'error') {
                        statusHTML = `
                            <div class="flex items-center">
                                <div class="w-6 h-6 mr-3 flex-shrink-0 text-red-500">
                                    <i class="fas fa-times-circle text-xl"></i>
                                </div>
                                <div class="text-red-500 font-medium">Ошибка загрузки</div>
                            </div>
                        `;
                    }
                    
                    item.innerHTML = `
                        <div class="flex items-center mb-2">
                            <span class="platform-badge ${platform.class} mr-2">${platform.name}</span>
                            <span class="text-sm text-gray-600 truncate">${url}</span>
                        </div>
                        ${statusHTML}
                    `;
                    
                    // Добавить слушатель событий для кнопки открытия, если это успешная загрузка
                    if (status === 'success') {
                        const openBtn = item.querySelector('.open-btn');
                        if (openBtn) {
                            const downloadState = getDownloadState(url);
                            if (downloadState && downloadState.downloadId && downloadState.fileName) {
                                openBtn.addEventListener('click', function() {
                                    window.open(`https://gabbber-mobile.onrender.com/download/${downloadState.downloadId}/${downloadState.fileName}`, '_blank');
                                });
                            } else {
                                openBtn.disabled = true;
                                openBtn.classList.add('opacity-50', 'cursor-not-allowed');
                            }
                        }
                    }
                    
                    return item;
                }

                // Добавить отсутствующую функцию loadSavedDownloads
                function loadSavedDownloads() {
                    const downloads = JSON.parse(localStorage.getItem('downloads') || '{}');
                    
                    // Показать контейнер результатов, если есть сохраненные загрузки
                    if (Object.keys(downloads).length > 0) {
                        resultsContainer.classList.remove('hidden');
                    }
                    
                    // Перебрать все сохраненные загрузки
                    for (const [url, downloadData] of Object.entries(downloads)) {
                        // Создать элемент для каждой загрузки в соответствии с ее статусом
                        const downloadItem = createDownloadItem(url, downloadData.state);
                        resultsList.appendChild(downloadItem);
                        
                        // Если это успешная загрузка, добавить слушатель событий для кнопки открытия
                        if (downloadData.state === 'success') {
                            const openBtn = downloadItem.querySelector('.open-btn');
                            if (openBtn && downloadData.downloadId && downloadData.fileName) {
                                openBtn.addEventListener('click', function() {
                                    window.open(`https://gabbber-mobile.onrender.com/download/${downloadData.downloadId}/${downloadData.fileName}`, '_blank');
                                });
                            }
                        }
                    }
                }

                // Функции для управления сохранением загрузок
                function saveDownloadState(url, state, downloadId = null, fileName = null) {
                    const downloads = JSON.parse(localStorage.getItem('downloads') || '{}');
                    downloads[url] = {
                        state: state,
                        downloadId: downloadId,
                        fileName: fileName,
                        timestamp: new Date().getTime()
                    };
                    localStorage.setItem('downloads', JSON.stringify(downloads));
                }

                function getDownloadState(url) {
                    const downloads = JSON.parse(localStorage.getItem('downloads') || '{}');
                    return downloads[url] || null;
                }

                // Изменить функцию downloadVideos
                async function downloadVideos(e) {
                    if (e) {
                        e.preventDefault();
                        e.stopPropagation();
                    }
                    
                    if (urls.length === 0 || isDownloading) return;
                    
                    // Отключить интерфейс во время загрузки
                    setInterfaceState(true);
                    
                    // Показать контейнер результатов
                    resultsList.innerHTML = '';
                    resultsContainer.classList.remove('hidden');
                    
                    // Скопировать URL для обработки
                    const urlsToDownload = [...urls];
                    
                    // Очистить список URL после начала загрузки
                    urls = [];
                    urlList.innerHTML = '';
                    emptyListMessage.style.display = 'block';
                    updateUrlCounter();
                    
                    // Создать элементы отображения для каждого URL
                    for (let url of urlsToDownload) {
                        const downloadItem = createDownloadItem(url, 'downloading');
                        resultsList.appendChild(downloadItem);
                    }
                    
                    // Обработать каждый URL последовательно
                    for (let url of urlsToDownload) {
                        try {
                            console.log('Обработка:', url);
                            
                            // Сохранить состояние 'downloading'
                            saveDownloadState(url, 'downloading');
                            
                            // Начать загрузку
                            const response = await fetch('https://gabbber-mobile.onrender.com/download', {
                                method: 'POST',
                                headers: {
                                    'Content-Type': 'application/json',
                                },
                                body: JSON.stringify({ url: url })
                            });
                            
                            const data = await response.json();
                            console.log('Получен ответ:', data);
                            
                            if (response.ok && data.download_id) {
                                // Начать проверку статуса загрузки
                                await pollDownloadStatus(url, data.download_id);
                            } else {
                                // Ошибка при начале загрузки
                                saveDownloadState(url, 'error');
                                
                                const resultItem = resultsList.querySelector(`[data-url="${url}"]`);
                                if (resultItem) {
                                    resultItem.replaceWith(createDownloadItem(url, 'error'));
                                }
                            }
                        } catch (error) {
                            console.error('Сетевая ошибка для:', url, error);
                            
                            // Ошибка - сохранить состояние 'error'
                            saveDownloadState(url, 'error');
                            
                            const resultItem = resultsList.querySelector(`[data-url="${url}"]`);
                            if (resultItem) {
                                resultItem.replaceWith(createDownloadItem(url, 'error'));
                            }
                        }
                    }
                    
                    // Снова активировать интерфейс после загрузки
                    setInterfaceState(false);
                }

                // Добавить функцию для периодической проверки статуса загрузки
                async function pollDownloadStatus(url, downloadId, attempts = 0) {
                    // Максимум 60 попыток (2 минуты с интервалом 2 секунды)
                    const maxAttempts = 60;
                    const interval = 2000; // Интервал 2 секунды
                    
                    if (attempts >= maxAttempts) {
                        console.error('Время ожидания загрузки истекло:', url);
                        saveDownloadState(url, 'error');
                        
                        const resultItem = resultsList.querySelector(`[data-url="${url}"]`);
                        if (resultItem) {
                            resultItem.replaceWith(createDownloadItem(url, 'error'));
                        }
                        return false; // Указывает, что загрузка не удалась
                    }
                    
                    try {
                        console.log(`Проверка статуса для ${url}, попытка ${attempts+1}/${maxAttempts}`);
                        const response = await fetch(`https://gabbber-mobile.onrender.com/download/status/${downloadId}`);
                        
                        if (!response.ok) {
                            throw new Error(`HTTP-ошибка: ${response.status}`);
                        }
                        
                        const statusData = await response.json();
                        console.log(`Download status for ${url}:`, statusData);
                        
                        const resultItem = resultsList.querySelector(`[data-url="${url}"]`);
                        
                        // Явно проверить статус, возвращаемый сервером
                        // В функции pollDownloadStatus измените часть, которая обрабатывает статус 'completed'
                        if (statusData.status === 'completed' && statusData.file_name) {
                            // Загрузка успешно завершена
                            console.log(`Загрузка завершена для ${url}`);
                            saveDownloadState(url, 'success', downloadId, statusData.file_name);
                            
                            if (resultItem) {
                                const successItem = createDownloadItem(url, 'success');
                                resultItem.replaceWith(successItem);
                                
                                // Автоматически инициировать загрузку файла
                                // Это загрузит файл на ПК и добавит его в историю Chrome
                                window.open(`https://gabbber-mobile.onrender.com/download/${downloadId}/${statusData.file_name}`, '_self');
                            }
                            return true; // Указывает, что загрузка успешно завершена
                        } else if (statusData.status === 'error') {
                            // Ошибка загрузки
                            console.error(`Ошибка загрузки для ${url}:`, statusData.error);
                            saveDownloadState(url, 'error');
                            
                            if (resultItem) {
                                resultItem.replaceWith(createDownloadItem(url, 'error'));
                            }
                            return false; // Указывает, что загрузка не удалась
                        } else {
                            // Загрузка в процессе или неизвестный статус, повторная проверка через интервал
                            console.log(`Загрузка в процессе для ${url}, повторная проверка через ${interval/1000}с`);
                            await new Promise(resolve => setTimeout(resolve, interval));
                            return pollDownloadStatus(url, downloadId, attempts + 1);
                        }
                    } catch (error) {
                        console.error('Ошибка при проверке статуса загрузки:', error);
                        // В случае сетевой ошибки повторить попытку через интервал
                        await new Promise(resolve => setTimeout(resolve, interval));
                        return pollDownloadStatus(url, downloadId, attempts + 1);
                    }
                }
                // Слушатели событий
                addUrlBtn.addEventListener('click', addUrl);
                
                urlInput.addEventListener('keypress', function(e) {
                    if (e.key === 'Enter') {
                        e.preventDefault();
                        e.stopPropagation();
                        addUrl();
                    }
                });
                
                downloadAllBtn.addEventListener('click', downloadVideos);
                
                excelInput.addEventListener('change', handleExcelImport);
                
                // Инициализация
                updateUrlCounter();
                
                // Загрузить сохраненные загрузки
                loadSavedDownloads();
            });

            </script>

                <footer class="bg-gray-900 text-white py-12">
    <div class="max-w-5xl mx-auto px-4 sm:px-6 lg:px-8">
        <div class="grid grid-cols-1 md:grid-cols-3 gap-8 items-center">
            <div class="mx-auto md:mx-0 text-center md:text-left">
                <div class="flex items-center">
                    <span class="text-6xl sm:text-7xl md:text-8xl font-bold blue-text">fdownload</span>
                    <svg class="w-16 h-16 sm:w-20 sm:h-20 md:w-24 md:h-24 blue-text" id="Svg" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" style="margin-left: 5px;"> <!-- Added style for 5px margin -->
                    <path d="M12 2a10 10 0 1 0 10 10A10 10 0 0 0 12 2zm0 18a8 8 0 1 1 8-8 8 8 0 0 1-8 8zm-1-9H7.41L12 15.59 16.59 11H13V6h-2z"/>
                    </svg>
                    </div>
                <p class="text-gray-400">Загрузчик видео с Facebook - Сохраняйте свои видео с Facebook</p>
                <div class="flex space-x-4 mt-4 justify-center md:justify-start">
                    <a href="https://www.instagram.com/grabbber.site/#/" class="text-gray-400 hover:text-white"><i class="fab fa-instagram"></i></a>
                    <a href="https://www.youtube.com/@grabbber.channel/#/" class="text-gray-400 hover:text-white"><i class="fab fa-youtube"></i></a>
                </div>
            </div>
            <div class="mx-auto text-center md:text-left">
                <h3 class="text-lg font-semibold mb-4">Юридическая информация</h3>
                <ul class="space-y-2">
                    <li><a href="terms.html" class="text-gray-400 hover:text-white transition">Условия и положения</a></li>
                    <li><a href="mailto:contact@grabbber.site" class="text-gray-400 hover:text-white transition">robertomaliro20@gmail.com</a></li>
                </ul>
            </div>
            <div class="text-center md:text-right mt-8 md:mt-0">
                <a href="https://pawns.app/?r=grabbber" target="_blank" class="animate-gradient-x bg-gradient-to-r from-purple-600 via-pink-500 to-yellow-500 text-white px-6 py-3 rounded-md text-lg font-semibold hover:shadow-xl transition duration-300 inline-block">Заработать деньги</a>
            </div>
        </div>
        <div class="border-t border-gray-800 mt-8 pt-8 text-center text-gray-400">
            <p>© 2025 FDOWNLOAD. تمام حقوق محفوظ ہیں۔</p>
            <p>یہ سائٹ Facebook یا Meta کے ساتھ وابستہ نہیں ہے۔</p>
        </div>
    </div>
</footer>
    </div> <!-- Конец main-content-wrapper -->
    
    <!-- Правые баннеры - ДОБАВЛЕНО -->
    <div class="ad-right-container">
        <div class="ad-right-scroll">
            <!-- Exoclice Right 1 -->
            <div class="ad-item">
                <script async type="application/javascript" src="https://a.magsrv.com/ad-provider.js"></script>
                <ins class="eas6a97888e2" data-zoneid="5653234"></ins>
                <script>(AdProvider = window.AdProvider || []).push({"serve": {}});</script>
            </div>
            
            <!-- Pawn.app Right 1 -->
            <div class="ad-item">
                <a href="https://pawns.app/?r=grabbber" target="_blank">
                    <img src="https://cdn.pawns.app/images/b/160.jpg" alt="Pawns.app">
                </a>
            </div>
            
            <!-- Exoclice Right 2 -->
            <div class="ad-item">
                <script async type="application/javascript" src="https://a.magsrv.com/ad-provider.js"></script>
                <ins class="eas6a97888e2" data-zoneid="5653238"></ins>
                <script>(AdProvider = window.AdProvider || []).push({"serve": {}});</script>
            </div>
            
            <!-- Pawn.app Right 2 -->
            <div class="ad-item">
                <a href="https://pawns.app/?r=grabbber" target="_blank">
                    <img src="https://cdn.pawns.app/images/b/160.jpg" alt="Pawns.app">
                </a>
            </div>
            
            <!-- Exoclice Right 3 -->
            <div class="ad-item">
                <script async type="application/javascript" src="https://a.magsrv.com/ad-provider.js"></script>
                <ins class="eas6a97888e2" data-zoneid="5653242"></ins>
                <script>(AdProvider = window.AdProvider || []).push({"serve": {}});</script>
            </div>
        </div>
    </div>
    
    <!-- Виджет внизу экрана - ДОБАВЛЕНО -->
    <div class="sticky-bottom-ad">
        <script async type="application/javascript" src="https://a.magsrv.com/ad-provider.js"></script>
        <ins class="eas6a97888e17" data-zoneid="5653250"></ins>
        <script>(AdProvider = window.AdProvider || []).push({"serve": {}});</script>
    </div>
    
    <!-- Центральный вращающийся баннер - ДОБАВЛЕНО -->
    <div class="center-ad-container" id="centerAdContainer">
        <div class="center-ad-timer" id="centerAdTimer">10s</div>
        <button class="center-ad-close" id="centerAdClose">×</button>
        <div class="center-ad-content" id="centerAdContent"></div>
    </div>
    
    <!-- Скрипт для прокрутки баннеров вместе с прокруткой страницы - ДОБАВЛЕНО -->
    <script>
        document.addEventListener('DOMContentLoaded', function() {
            const leftScroll = document.querySelector('.ad-left-scroll');
            const rightScroll = document.querySelector('.ad-right-scroll');
            const leftItems = document.querySelectorAll('.ad-left-scroll .ad-item');
            const rightItems = document.querySelectorAll('.ad-right-scroll .ad-item');
            
            // Вычислить общую высоту баннеров
            const leftHeight = Array.from(leftItems).reduce((total, item) => total + item.offsetHeight + 20, 0); // 20px для отступа
            const rightHeight = Array.from(rightItems).reduce((total, item) => total + item.offsetHeight + 20, 0);
            
            // Видимая высота области баннеров
            const visibleHeight = window.innerHeight - 80; // 80px для навигационной панели
            
            // Вычислить максимальное смещение
            const maxLeftScroll = Math.max(0, leftHeight - visibleHeight);
            const maxRightScroll = Math.max(0, rightHeight - visibleHeight);
            
            // Добавить множитель, чтобы убедиться, что все баннеры видны
            const scrollFactor = 1.5; // Увеличивает амплитуду прокрутки
            
            window.addEventListener('scroll', function() {
                // Вычислить процент прокрутки страницы
                const scrollPercentage = window.scrollY / (document.body.scrollHeight - window.innerHeight);
                
                // Применить прокрутку к баннерам с множителем
                if (maxLeftScroll > 0) {
                    leftScroll.style.transform = `translateY(-${scrollPercentage * maxLeftScroll * scrollFactor}px)`;
                }
                
                if (maxRightScroll > 0) {
                    rightScroll.style.transform = `translateY(-${scrollPercentage * maxRightScroll * scrollFactor}px)`;
                }
            });
            
            // Добавить событие изменения размера для пересчета высот
            window.addEventListener('resize', function() {
                // Пересчитать видимую высоту
                const newVisibleHeight = window.innerHeight - 80;
                
                // Обновить максимальные смещения
                const newMaxLeftScroll = Math.max(0, leftHeight - newVisibleHeight);
                const newMaxRightScroll = Math.max(0, rightHeight - newVisibleHeight);
                
                // Применить новые смещения
                const scrollPercentage = window.scrollY / (document.body.scrollHeight - window.innerHeight);
                
                if (newMaxLeftScroll > 0) {
                    leftScroll.style.transform = `translateY(-${scrollPercentage * newMaxLeftScroll * scrollFactor}px)`;
                }
                
                if (newMaxRightScroll > 0) {
                    rightScroll.style.transform = `translateY(-${scrollPercentage * newMaxRightScroll * scrollFactor}px)`;
                }
            });
        });
    </script>
    <!-- Скрипт для центрального вращающегося баннера - ДОБАВЛЕНО -->
    <script>
        window.addEventListener('load', function() {
            // Элементы DOM
            const centerAdContainer = document.getElementById('centerAdContainer');
            const centerAdContent = document.getElementById('centerAdContent');
            const centerAdClose = document.getElementById('centerAdClose');
            const centerAdTimer = document.getElementById('centerAdTimer');

            // 1. Новое премиум-содержимое Grabbber (будет отображаться первым)
            const grabbberPremiumBanner = `
                <div class="main-container">
                    <div class="left-section">
                        <h1 class="text-3xl font-bold mb-3">№1<br>Загрузчик видео</h1>
                        <p class="text-base mb-6">Скачивайте видео<br>во время просмотра</p>
                        
                        <!-- Текст "Grabbber" отображается вместо изображения/видео -->
                        <span id="grabbberTextDisplay" class="text-white text-3xl font-bold mb-4">Grabbber</span>

                        <div class="flex flex-col space-y-2 items-center"> <!-- Изменено на flex-col и space-y-2 для вертикального макета -->
                            <i class="fab fa-youtube social-icon"></i>
                            <i class="fab fa-instagram social-icon"></i>
                            <i class="fab fa-tiktok social-icon"></i>
                            <span class="text-white text-base">и многое другое</span>
                        </div>
                    </div>
                    <div class="right-section">
                        <h2 class="text-xl font-semibold mb-3 text-gray-800">Получите полное владение Grabbber за один платеж.</h2>
                        
                        <!-- Сжатое содержимое для всех устройств -->
                        <p class="text-sm text-gray-700 mb-4">
                            Скачивайте сколько угодно видео с Youtube, TikTok, IG, Pornhub и Xvideos. Один платеж, без повторяющихся сборов, с пошаговым видео, показывающим, как установить его на ваш ПК.
                        </p>
                        <a href="https://grabbber.site/payment.html"><button class="get-it-for-life-button">Получить навсегда</button></a>
                    </div>
                </div>
            `;

            // 2. Баннер Exoclic
            const exoclicBanner = `<div id="exoclice-ad-container"></div>`;

            // 3. Баннер Pawns.app
            const pawnBanner = `<div>
                <div class="text-center text-gray-700 p-2">
                                <p>
                                    Превратите свое свободное время в 150-300$/месяц, играя и делясь своим подключением. Легко получайте пассивный доход с Pawns.app. Зарегистрируйтесь и получите 3$! 
                                    <i class="fas fa-arrow-right text-purple-600 mx-1"></i>
                                    <a href="https://pawns.app/?r=grabbber" target="_blank" class="text-purple-600 font-bold hover:underline">Pawns.app</a>
                                </p>
                            </div>
                <a href="https://pawns.app/?r=grabbber" target="_blank">
                <img src="https://cdn.pawns.app/images/b/300.jpg" alt="Pawns.app">
            </a></div>`;

            // Порядок отображения: Grabbber Premium, Exoclic, Pawns.app
            const adContents = [
                grabbberPremiumBanner,
                exoclicBanner,
                pawnBanner
            ];

            let currentAdIndex = 0;
            let timerInterval;
            let secondsLeft = 10;
            let adInterval;

            function showAd() {
                secondsLeft = 10;
                centerAdTimer.textContent = secondsLeft + 's';

                centerAdClose.style.opacity = '0';

                centerAdContent.innerHTML = adContents[currentAdIndex];

                // Вставить скрипт Exoclic, если это баннер Exoclic
                if (currentAdIndex === 1) {
                    const script1 = document.createElement('script');
                    script1.async = true;
                    script1.type = 'application/javascript';
                    script1.src = 'https://a.magsrv.com/ad-provider.js';
                    document.getElementById('exoclice-ad-container').appendChild(script1);

                    const ins = document.createElement('ins');
                    ins.className = 'eas6a97888e2';
                    ins.setAttribute('data-zoneid', '5653420');
                    document.getElementById('exoclice-ad-container').appendChild(ins);

                    const script2 = document.createElement('script');
                    script2.textContent = "(AdProvider = window.AdProvider || []).push({\"serve\": {}})";
                    document.getElementById('exoclice-ad-container').appendChild(script2);
                }

                centerAdContainer.style.display = 'block';
                currentAdIndex = (currentAdIndex + 1) % adContents.length;

                clearInterval(timerInterval);
                timerInterval = setInterval(function() {
                    secondsLeft--;
                    centerAdTimer.textContent = secondsLeft + 's';
                    if (secondsLeft <= 0) {
                        centerAdClose.style.opacity = '1';
                        clearInterval(timerInterval);
                        centerAdTimer.style.display = 'none';
                    }
                }, 1000);
            }

            function closeAd() {
                centerAdContainer.style.display = 'none';
                centerAdTimer.style.display = 'block';
                clearInterval(timerInterval);
            }

            centerAdClose.addEventListener('click', closeAd);

            setTimeout(function() {
                showAd();
                
                adInterval = setInterval(function() {
                    if (centerAdContainer.style.display === 'none') {
                        showAd();
                    } else {
                        closeAd();
                        showAd();
                    }
                }, 60000); // 60 секунд
            }, 60000); // Первый баннер через 60 секунд
        });
    </script>

       <!-- START: Исправленная логика перевода -->
       <script>
        const langBtn = document.getElementById('langBtn');
        const langDropdown = document.getElementById('langDropdown');
    
        // Управление открытием/закрытием меню
        langBtn.addEventListener('click', function(e) {
            e.preventDefault();
            langDropdown.classList.toggle('hidden');
        });
    
        // Закрыть меню, если щелкнуть вне его
        document.addEventListener('click', function(e) {
            if (!langBtn.contains(e.target) && !langDropdown.contains(e.target)) {
                langDropdown.classList.add('hidden');
            }
        });
    
        // Надежная функция для смены языка с повторными попытками
        function changeGoogleTranslateLanguage(lang) {
            let attempts = 0;
            const maxAttempts = 20; // Попыток в течение 10 секунд
            const intervalTime = 500; // Каждые полсекунды
    
            const interval = setInterval(() => {
                const select = document.querySelector('.goog-te-combo');
    
                if (select) {
                    clearInterval(interval);
                    select.value = lang;
                    select.dispatchEvent(new Event('change'));
                } else {
                    attempts++;
                    if (attempts >= maxAttempts) {
                        clearInterval(interval);
                        console.error("Виджет Google Translate (.goog-te-combo) НЕ НАЙДЕН. Возможно, скрипт Google заблокирован блокировщиком рекламы.");
                    }
                }
            }, intervalTime);
        }
    
        // Управление сменой языка
        document.querySelectorAll('#langDropdown a[data-lang]').forEach(link => {
            link.addEventListener('click', function(e) {
                e.preventDefault();
                const lang = this.getAttribute('data-lang');
                document.getElementById('currentLang').textContent = this.textContent.split(' ')[0];
                langDropdown.classList.add('hidden');
                
                changeGoogleTranslateLanguage(lang);
            });
        });

        // Управление мобильным выпадающим списком
        const langBtnMobile = document.getElementById('langBtnMobile');
        const langDropdownMobile = document.getElementById('langDropdownMobile');
        if (langBtnMobile && langDropdownMobile) {
            langBtnMobile.addEventListener('click', function(e) {
                e.preventDefault();
                langDropdownMobile.classList.toggle('hidden');
            });
            document.addEventListener('click', function(e) {
                if (!langBtnMobile.contains(e.target) && !langDropdownMobile.contains(e.target)) {
                    langDropdownMobile.classList.add('hidden');
                }
            });
        }
        </script>
        <!-- END: Исправленная логика перевода -->

</body>
</html>

